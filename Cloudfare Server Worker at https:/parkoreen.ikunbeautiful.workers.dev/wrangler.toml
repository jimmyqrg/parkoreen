# PARKOREEN - Cloudflare Worker Configuration
# Deploy with: wrangler deploy

name = "parkoreen"
main = "worker.js"
compatibility_date = "2024-01-01"

# KV Namespace bindings - CREATE THESE FIRST!
# 
# Step 1: Run these commands to create namespaces:
#   wrangler kv:namespace create "USERS"
#   wrangler kv:namespace create "MAPS"
#   wrangler kv:namespace create "SESSIONS"
#   wrangler kv:namespace create "ROOMS"
#
# Step 2: Copy the IDs from the output and paste them below
# Step 3: Run: wrangler deploy

[[kv_namespaces]]
binding = "USERS"
id = "REPLACE_WITH_YOUR_USERS_KV_ID"
# ^ Get this from: wrangler kv:namespace create "USERS"

[[kv_namespaces]]
binding = "MAPS"
id = "REPLACE_WITH_YOUR_MAPS_KV_ID"
# ^ Get this from: wrangler kv:namespace create "MAPS"

[[kv_namespaces]]
binding = "SESSIONS"
id = "REPLACE_WITH_YOUR_SESSIONS_KV_ID"
# ^ Get this from: wrangler kv:namespace create "SESSIONS"

[[kv_namespaces]]
binding = "ROOMS"
id = "REPLACE_WITH_YOUR_ROOMS_KV_ID"
# ^ Get this from: wrangler kv:namespace create "ROOMS"

# Durable Objects for real-time multiplayer
[[durable_objects.bindings]]
name = "GAME_ROOMS"
class_name = "GameRoom"

[[migrations]]
tag = "v1"
new_classes = ["GameRoom"]

# Environment variables (set in Cloudflare dashboard for production)
[vars]
ENVIRONMENT = "development"

# Custom domain routing (optional)
# routes = [
#   { pattern = "parkoreen.example.com/*", zone_name = "example.com" }
# ]
